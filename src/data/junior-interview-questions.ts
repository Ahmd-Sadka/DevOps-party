import { Question } from '@/types/game';

const wrongFeedback = [
  'Not quite! Review and try again.',
  'Close! Check the explanation.',
  'Good attempt — see the correct answer below.',
];

export const juniorInterviewQuestions: Question[] = [
  // --- Linux ---
  {
    id: 'j-linux-hardlink-softlink',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is the difference between a hard link and a soft (symbolic) link?',
    options: [
      'Hard link shares inode, soft link points to path',
      'Soft link shares inode, hard link points to path',
      'Both share inodes and are fully identical',
      'Hard links span filesystems, soft links cannot',
    ],
    correctAnswer: 0,
    explanation: 'A hard link shares the same inode as the original file. A soft/symbolic link is a separate file that stores the path to the target.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'filesystem', 'inode'],
  },
  {
    id: 'j-linux-reverse-forward-proxy',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is the difference between a reverse proxy and a forward proxy?',
    options: [
      'Reverse proxy fronts servers, forward fronts clients',
      'Forward proxy fronts servers, reverse fronts clients',
      'Both function identically with different names',
      'Reverse proxy caches only, forward proxy routes only',
    ],
    correctAnswer: 0,
    explanation: 'Reverse proxy: clients talk to the proxy which forwards to backend servers. Forward proxy: clients use the proxy to reach the internet.',
    wrongFeedback,
    xpReward: 20,
    tags: ['networking', 'proxy'],
  },
  {
    id: 'j-linux-free-memory',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What command shows free and used memory in a human-readable format?',
    options: ['mem -h', 'free -h', 'memory --human', 'top -m'],
    correctAnswer: 1,
    explanation: 'free -h shows total, used, free, and cached memory in human-readable units.',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'memory', 'commands'],
  },
  {
    id: 'j-linux-ui-troubleshoot',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'A GUI app works locally but not on a headless server. How to troubleshoot?',
    options: [
      'Use Xvfb virtual framebuffer or headless mode',
      'Install a full desktop environment on the server',
      'Restart the server and try again',
      'The application simply cannot run on servers',
    ],
    correctAnswer: 0,
    explanation: 'Many GUI apps require a display. Use Xvfb (virtual framebuffer) or run the app in headless mode if supported.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'troubleshooting', 'X11'],
  },
  {
    id: 'j-linux-404-troubleshoot',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'How would you troubleshoot a 404 error on a web app you administer?',
    options: [
      'Check URL, server config, file permissions, app routing',
      'Restart the web server immediately without checking',
      'Only clear the browser cache and refresh page',
      'Replace the entire web server with a new one',
    ],
    correctAnswer: 0,
    explanation: 'Check the requested path, web server config, file existence/permissions, and app routing (SPA fallback).',
    wrongFeedback,
    xpReward: 20,
    tags: ['troubleshooting', 'web', '404'],
  },
  {
    id: 'j-linux-umask',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is umask and how does it affect new files?',
    options: [
      'Masks permission bits; umask 022 gives files 644',
      'Adds permission bits to new files automatically',
      'Only affects the root user file creation',
      'Works exactly the same way as chmod command',
    ],
    correctAnswer: 0,
    explanation: 'umask masks (removes) bits from defaults. Default file is 666, dir 777. umask 022 gives files 644 and dirs 755.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'permissions', 'umask'],
  },
  {
    id: 'j-linux-boot-sequence',
    levelId: 'linux',
    difficulty: 'hard',
    question: 'What is the typical Linux boot sequence?',
    options: [
      'BIOS/UEFI → bootloader → kernel → init/systemd',
      'Kernel → BIOS → systemd → bootloader starts',
      'GRUB → BIOS → kernel → user space directly',
      'init → kernel → bootloader → BIOS firmware',
    ],
    correctAnswer: 0,
    explanation: 'Firmware loads bootloader (GRUB), which loads kernel and initramfs; kernel mounts root, runs init (systemd).',
    wrongFeedback,
    xpReward: 35,
    tags: ['linux', 'boot', 'systemd'],
  },
  {
    id: 'j-linux-swap',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What is swap and what is it used for?',
    options: [
      'Disk space used as virtual memory when RAM is full',
      'A backup copy of RAM stored on external drives',
      'CPU cache extension for faster processing speed',
      'Only used for system hibernation, nothing else',
    ],
    correctAnswer: 0,
    explanation: 'Swap is disk space used as extended memory when RAM is full. Also used for hibernation.',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'memory', 'swap'],
  },
  {
    id: 'j-linux-cpu-info',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'Which command shows detailed CPU and hardware information?',
    options: ['Both lscpu and lshw', 'Only the cpuinfo command', 'Only the top command', 'Only the uname command'],
    correctAnswer: 0,
    explanation: 'lscpu shows CPU info. lshw lists hardware including CPU. Both are commonly used.',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'hardware', 'cpu'],
  },
  {
    id: 'j-linux-sticky-bit',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What does the sticky bit do on a directory (e.g. /tmp)?',
    options: [
      'Only file owner can delete their own files',
      'Makes the entire directory read-only for all',
      'Encrypts all files stored in the directory',
      'Prevents any file deletion by any user',
    ],
    correctAnswer: 0,
    explanation: 'Sticky bit allows only the file owner (and root) to delete or rename files there.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'permissions', 'sticky-bit'],
  },
  {
    id: 'j-linux-inode',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is an inode? Why is the filename stored separately?',
    options: [
      'Inode stores metadata; names in dirs allow hard links',
      'Inode stores the filename and all file data',
      'Filename is always stored inside the inode itself',
      'Inodes are only used for directory entries',
    ],
    correctAnswer: 0,
    explanation: 'Inode holds metadata (owner, size, timestamps, block pointers). Directory entries map filenames to inodes, allowing hard links.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'filesystem', 'inode'],
  },
  {
    id: 'j-linux-lvm',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is LVM (Logical Volume Manager)?',
    options: [
      'Abstraction: PVs → VGs → LVs for flexible storage',
      'A backup tool for creating disk snapshots only',
      'A specific filesystem type like ext4 or xfs',
      'A network volume protocol for shared storage',
    ],
    correctAnswer: 0,
    explanation: 'LVM abstracts storage: PVs form VGs, LVs are created from VGs. You can resize, add PVs, and take snapshots.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'storage', 'lvm'],
  },
  {
    id: 'j-linux-locate-find',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What is the difference between locate and find?',
    options: [
      'locate uses a database (fast); find searches live (slower)',
      'They are identical commands with different names',
      'find is faster because it uses cached results',
      'locate only works when running as root user',
    ],
    correctAnswer: 0,
    explanation: 'locate queries a database (updated by updatedb), fast but may be stale. find traverses the filesystem in real time.',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'search', 'commands'],
  },
  {
    id: 'j-linux-list-files',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'Name three different ways to list files in a directory.',
    options: [
      'ls, ls -l, ls -la (or ls -a)',
      'list, dir, show (standard commands)',
      'ls, dir, get-childitem (all platforms)',
      'ls, dir, cat (all list files)',
    ],
    correctAnswer: 0,
    explanation: 'ls (plain), ls -l (long format), ls -la or ls -a (include hidden). dir and echo * also work.',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'commands', 'ls'],
  },
  {
    id: 'j-linux-zombie',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What is a zombie process?',
    options: [
      'Exited process not yet reaped by its parent',
      'A process that is frozen and using resources',
      'A process consuming too much system memory',
      'A process that cannot be killed by any signal',
    ],
    correctAnswer: 0,
    explanation: 'A zombie is a process that terminated but still has an entry because the parent hasn\'t called wait().',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'processes', 'zombie'],
  },
  {
    id: 'j-linux-file-types',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What are the main file types in Linux?',
    options: [
      'Regular, directory, symlink, device, socket, FIFO',
      'Only regular files and directories exist',
      'Text files and binary files are the only types',
      'Executable files and non-executable files only',
    ],
    correctAnswer: 0,
    explanation: 'Linux file types: regular (-), directory (d), symlink (l), block device (b), char device (c), socket (s), FIFO (p).',
    wrongFeedback,
    xpReward: 10,
    tags: ['linux', 'filesystem', 'file-types'],
  },
  {
    id: 'j-linux-cgroups',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'What are cgroups (control groups) used for?',
    options: [
      'Limit and measure resource usage of processes',
      'Only for controlling network groups of hosts',
      'Grouping Linux users into access categories',
      'Creating backup groups for disaster recovery',
    ],
    correctAnswer: 0,
    explanation: 'cgroups limit, account, and isolate resource usage (CPU, memory, disk I/O). Containers use cgroups to enforce limits.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'cgroups', 'containers'],
  },
  {
    id: 'j-linux-process-priority',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'How do you change a process priority on Linux?',
    options: [
      'nice and renice; lower nice = higher priority',
      'chmod +priority on the process binary file',
      'Only via the top command interactive interface',
      'Only possible when the process first starts',
    ],
    correctAnswer: 0,
    explanation: 'nice runs a process with a given nice value (-20 to 19; lower = higher priority). renice changes it for running processes.',
    wrongFeedback,
    xpReward: 20,
    tags: ['linux', 'processes', 'scheduling'],
  },
  {
    id: 'j-linux-oom',
    levelId: 'linux',
    difficulty: 'hard',
    question: 'How does the Linux OOM killer choose which process to kill?',
    options: [
      'Uses oom_score based on memory usage and tunables',
      'Always kills the newest process that was started',
      'Always kills the oldest running process first',
      'Selects a random process from the process table',
    ],
    correctAnswer: 0,
    explanation: 'OOM killer scores processes (oom_score); higher = more likely to be killed. Memory usage and oom_score_adj are key factors.',
    wrongFeedback,
    xpReward: 35,
    tags: ['linux', 'memory', 'oom'],
  },
  {
    id: 'j-linux-ddos',
    levelId: 'linux',
    difficulty: 'medium',
    question: 'How can you mitigate a DDoS attack at the server level?',
    options: [
      'Rate limiting, firewall rules, upstream filtering, scaling',
      'Simply restart the server and hope it resolves',
      'Disable the network interface entirely on the host',
      'Only application-level changes can help with DDoS',
    ],
    correctAnswer: 0,
    explanation: 'Use rate limiting, WAF/CDN, firewall rules, scale out, and block abusive IPs.',
    wrongFeedback,
    xpReward: 20,
    tags: ['security', 'networking', 'ddos'],
  },
  {
    id: 'j-linux-public-private-ip',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What is the difference between a public IP and a private IP?',
    options: [
      'Public is internet-routable; private is for LANs',
      'They are the same thing with different labels',
      'Private IP is inherently more secure by default',
      'Public IP is only assigned to server machines',
    ],
    correctAnswer: 0,
    explanation: 'Public IPs are globally routable. Private ranges (RFC 1918) are used inside networks; NAT translates to public.',
    wrongFeedback,
    xpReward: 10,
    tags: ['networking', 'ip', 'rfc1918'],
  },
  {
    id: 'j-linux-dns-commands',
    levelId: 'linux',
    difficulty: 'easy',
    question: 'What commands can you use to check DNS records?',
    options: [
      'dig, nslookup, host, and getent hosts',
      'Only nslookup is available on Linux',
      'Only the ping command can check DNS records',
      'Only curl can resolve DNS on Linux hosts',
    ],
    correctAnswer: 0,
    explanation: 'dig, nslookup, and host are common DNS tools. getent hosts uses the system resolver.',
    wrongFeedback,
    xpReward: 10,
    tags: ['dns', 'networking', 'commands'],
  },
  {
    id: 'j-bash-shebang',
    levelId: 'bash',
    difficulty: 'easy',
    question: 'What happens if you don\'t write a shebang (#!/bin/bash) in a script?',
    options: [
      'Runs with the default shell (often /bin/sh)',
      'The script completely fails to execute at all',
      'It always runs with bash regardless of setup',
      'Nothing; shebang is purely optional decoration',
    ],
    correctAnswer: 0,
    explanation: 'Without a shebang, the kernel may use the default shell (often /bin/sh).',
    wrongFeedback,
    xpReward: 10,
    tags: ['bash', 'shebang', 'scripting'],
  },
  {
    id: 'j-bash-script-no-effect',
    levelId: 'bash',
    difficulty: 'medium',
    question: 'A script defines functions and runs without errors but does nothing. Why?',
    options: [
      'Functions defined but never called; errors hidden',
      'The script file is set to read-only permissions',
      'Bash interpreter is not installed on the system',
      'The script must be sourced, never directly executed',
    ],
    correctAnswer: 0,
    explanation: 'Defining a function does not run it — you must call it. Also, errors may be silently redirected.',
    wrongFeedback,
    xpReward: 20,
    tags: ['bash', 'debugging', 'functions'],
  },
  // --- Containers & VMs ---
  {
    id: 'j-container-vm',
    levelId: 'docker',
    difficulty: 'easy',
    question: 'What is the main difference between a container and a VM?',
    options: [
      'Containers share host kernel; VMs have their own',
      'Containers are heavier and slower than VMs',
      'VMs cannot run any Linux distributions at all',
      'Containers require a hypervisor to function',
    ],
    correctAnswer: 0,
    explanation: 'Containers share the host kernel and use namespaces/cgroups. VMs run a full guest OS via hypervisor.',
    wrongFeedback,
    xpReward: 10,
    tags: ['containers', 'vm', 'concepts'],
  },
  {
    id: 'j-hypervisor-types',
    levelId: 'docker',
    difficulty: 'medium',
    question: 'What are Type 1 and Type 2 hypervisors?',
    options: [
      'Type 1 runs on hardware (ESXi); Type 2 on OS (VBox)',
      'Type 1 is for development environments only',
      'Type 2 performs faster than Type 1 hypervisors',
      'They are identical with just different version names',
    ],
    correctAnswer: 0,
    explanation: 'Type 1 (bare-metal) runs directly on hardware. Type 2 runs as an app on a host OS.',
    wrongFeedback,
    xpReward: 20,
    tags: ['virtualization', 'hypervisor'],
  },
  {
    id: 'j-namespaces-cgroups-containers',
    levelId: 'docker',
    difficulty: 'medium',
    question: 'How do namespaces and cgroups relate to containers?',
    options: [
      'Namespaces isolate; cgroups limit resources together',
      'Only cgroups are used, namespaces are unrelated',
      'Only namespaces are used, cgroups are unrelated',
      'They are the same technology with different names',
    ],
    correctAnswer: 0,
    explanation: 'Namespaces isolate (PID, network, mount). cgroups limit (CPU, memory). Together they provide container isolation.',
    wrongFeedback,
    xpReward: 20,
    tags: ['containers', 'namespaces', 'cgroups'],
  },
  {
    id: 'j-docker-image-size-speed',
    levelId: 'docker',
    difficulty: 'medium',
    question: 'How can you reduce Docker image size and build speed?',
    options: [
      'Multi-stage builds, alpine base, layer ordering',
      'Only switching to alpine base image is sufficient',
      'Compress the final image after the build process',
      'Disable all caching to force clean builds always',
    ],
    correctAnswer: 0,
    explanation: 'Multi-stage builds drop build deps; alpine/slim reduces size; layer order improves cache hits.',
    wrongFeedback,
    xpReward: 20,
    tags: ['docker', 'optimization', 'dockerfile'],
  },
  {
    id: 'j-dockerfile-image',
    levelId: 'docker',
    difficulty: 'easy',
    question: 'What is a Dockerfile and what is an "image"?',
    options: [
      'Dockerfile builds images; images are read-only templates',
      'Dockerfile is the same as the running container',
      'Image and container are completely interchangeable',
      'Dockerfile is only used for documentation purposes',
    ],
    correctAnswer: 0,
    explanation: 'Dockerfile defines build steps. Building produces a read-only layered image. Containers run from images.',
    wrongFeedback,
    xpReward: 10,
    tags: ['docker', 'dockerfile', 'image'],
  },
  {
    id: 'j-docker-entrypoint-cmd',
    levelId: 'docker',
    difficulty: 'medium',
    question: 'What is the difference between ENTRYPOINT and CMD?',
    options: [
      'ENTRYPOINT is the executable; CMD gives default args',
      'They are the same instruction with different names',
      'CMD always runs before ENTRYPOINT in containers',
      'ENTRYPOINT is only valid in shell form syntax',
    ],
    correctAnswer: 0,
    explanation: 'ENTRYPOINT defines the main process; CMD gives default args that can be overridden at docker run.',
    wrongFeedback,
    xpReward: 20,
    tags: ['docker', 'dockerfile', 'entrypoint'],
  },
  {
    id: 'j-docker-flow',
    levelId: 'docker',
    difficulty: 'hard',
    question: 'Describe the Docker flow from CLI to running container.',
    options: [
      'CLI → dockerd → containerd → runc → container',
      'CLI talks directly to runc without any daemon',
      'containerd is not used in the Docker flow at all',
      'Only dockerd and runc, nothing in between them',
    ],
    correctAnswer: 0,
    explanation: 'docker CLI talks to dockerd; dockerd delegates to containerd; containerd uses runc (OCI runtime) to run containers.',
    wrongFeedback,
    xpReward: 35,
    tags: ['docker', 'architecture', 'containerd'],
  },
  {
    id: 'j-docker-memory-cpu-limit',
    levelId: 'docker',
    difficulty: 'medium',
    question: 'How do you control memory and CPU limits for a container?',
    options: [
      'docker run --memory and --cpus; or compose limits',
      'Only configurable inside the Dockerfile itself',
      'Only via the host OS kernel parameters directly',
      'Resource limiting is not possible in Docker today',
    ],
    correctAnswer: 0,
    explanation: 'docker run -m 512m --cpus=1.5. In Compose: deploy.resources.limits. Under the hood uses cgroups.',
    wrongFeedback,
    xpReward: 20,
    tags: ['docker', 'resources', 'limits'],
  },
  {
    id: 'j-docker-registry-credentials',
    levelId: 'docker',
    difficulty: 'easy',
    question: 'Where does Docker store image registry credentials?',
    options: [
      'In ~/.docker/config.json (auths section)',
      'Only in environment variables on the host',
      'In /etc/docker/credentials config file only',
      'Docker does not store credentials anywhere',
    ],
    correctAnswer: 0,
    explanation: 'docker login stores credentials in ~/.docker/config.json under the "auths" key.',
    wrongFeedback,
    xpReward: 10,
    tags: ['docker', 'registry', 'credentials'],
  },
  // --- Kubernetes ---
  {
    id: 'j-k8s-components',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What are the main components of a Kubernetes cluster?',
    options: [
      'Control plane: API, etcd, scheduler; nodes: kubelet',
      'Only the API server and kubelet are required',
      'Only etcd and the scheduler are needed to run',
      'There is no separation into control plane layers',
    ],
    correctAnswer: 0,
    explanation: 'Control plane: API server, etcd, scheduler, controller-manager. Nodes: kubelet, kube-proxy, container runtime.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'architecture', 'components'],
  },
  {
    id: 'j-k8s-scheduler',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'How does the scheduler decide pod placement on nodes?',
    options: [
      'Scores nodes by resources, affinity, and constraints',
      'Randomly selects any available node in cluster',
      'Always picks the first available node it finds',
      'Only considers resource requests, nothing else',
    ],
    correctAnswer: 0,
    explanation: 'Scheduler filters feasible nodes, then scores them by resources, affinity, taints/tolerations, etc.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'scheduler', 'scheduling'],
  },
  {
    id: 'j-k8s-kubelet',
    levelId: 'kubernetes',
    difficulty: 'easy',
    question: 'What is the role of the kubelet on a node?',
    options: [
      'Ensures pod containers run and reports status',
      'Only runs the scheduler on each worker node',
      'Only manages the etcd database on the node',
      'Only handles networking between all the pods',
    ],
    correctAnswer: 0,
    explanation: 'Kubelet ensures containers in pods are running, reports status to the control plane.',
    wrongFeedback,
    xpReward: 10,
    tags: ['kubernetes', 'kubelet', 'nodes'],
  },
  {
    id: 'j-k8s-kubeconfig',
    levelId: 'kubernetes',
    difficulty: 'easy',
    question: 'What is the kubeconfig file used for?',
    options: [
      'Stores cluster, user, and context for kubectl',
      'Only stores the cluster URL and nothing else',
      'It is the cluster state file like etcd backup',
      'Only for storing TLS certificates for nodes',
    ],
    correctAnswer: 0,
    explanation: 'kubeconfig holds clusters, users, and contexts so kubectl knows how to connect and authenticate.',
    wrongFeedback,
    xpReward: 10,
    tags: ['kubernetes', 'kubectl', 'kubeconfig'],
  },
  {
    id: 'j-k8s-deployment-fails',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'A deployment is not rolling out. How do you troubleshoot?',
    options: [
      'describe, logs, events; check image, resources, probes',
      'Only restart the deployment and hope it works',
      'Only check the Docker image tag is correct',
      'Delete and recreate the entire namespace fresh',
    ],
    correctAnswer: 0,
    explanation: 'describe shows events, logs show app errors, events show cluster-level issues. Check images, resources, probes.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'troubleshooting', 'deployment'],
  },
  {
    id: 'j-k8s-auth-methods',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What authentication methods does Kubernetes support?',
    options: [
      'X.509 certs, bearer tokens, OIDC, service accounts',
      'Only password-based authentication is supported',
      'Only TLS client certificates are supported',
      'Only OAuth 2.0 is supported for authentication',
    ],
    correctAnswer: 0,
    explanation: 'K8s supports client certificates, tokens, OIDC, and service account JWTs.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'security', 'authentication'],
  },
  {
    id: 'j-k8s-deployment-strategies',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What deployment strategies exist in Kubernetes?',
    options: [
      'Rolling update, recreate, blue/green, canary release',
      'Only rolling update is available in Kubernetes',
      'Only blue/green deployment is natively supported',
      'Kubernetes has no deployment strategy features',
    ],
    correctAnswer: 0,
    explanation: 'Built-in: RollingUpdate and Recreate. Blue/green and canary are done with multiple deployments and routing.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'deployment', 'strategies'],
  },
  {
    id: 'j-k8s-canary-blue-green',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What is the difference between canary and blue-green?',
    options: [
      'Blue-green switches all traffic; canary shifts gradually',
      'They are identical deployment strategies in practice',
      'Canary is always faster than blue-green deployments',
      'Blue-green uses only one environment at a time',
    ],
    correctAnswer: 0,
    explanation: 'Blue-green: switch 100% traffic at once. Canary: small % first, then increase if healthy.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'deployment', 'canary'],
  },
  {
    id: 'j-k8s-master-odd',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'Why should control plane nodes be odd (1, 3, 5)?',
    options: [
      'For etcd quorum: odd avoids split, tolerates more failures',
      'Only for load balancing traffic evenly across nodes',
      'It does not actually matter, any number works fine',
      'To reduce cost by using fewer total cluster nodes',
    ],
    correctAnswer: 0,
    explanation: 'etcd uses Raft consensus requiring a majority. Odd count maximizes fault tolerance per node.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'etcd', 'ha'],
  },
  {
    id: 'j-k8s-affinity-taints-use-case',
    levelId: 'kubernetes',
    difficulty: 'hard',
    question: 'Give a use case for node affinity and taints/tolerations.',
    options: [
      'Affinity: run on GPU nodes; taints: reserve dedicated nodes',
      'Only useful for labeling nodes with metadata tags',
      'Only used for configuring network policies on pods',
      'They are the same feature with different syntax',
    ],
    correctAnswer: 0,
    explanation: 'Affinity: prefer/require nodes with labels (GPU, SSD). Taints: reserve nodes for specific workloads.',
    wrongFeedback,
    xpReward: 35,
    tags: ['kubernetes', 'scheduling', 'affinity', 'taints'],
  },
  {
    id: 'j-k8s-master-down',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What happens to workloads if the control plane goes down?',
    options: [
      'Existing pods keep running; no new scheduling occurs',
      'All pods immediately restart on all worker nodes',
      'The entire cluster stops functioning completely',
      'Workloads automatically move to another master node',
    ],
    correctAnswer: 0,
    explanation: 'Workers and kubelet keep running existing pods. No new scheduling or API changes until control plane is restored.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'ha', 'control-plane'],
  },
  {
    id: 'j-k8s-cordon-drain',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What is the difference between kubectl cordon and drain?',
    options: [
      'Cordon marks unschedulable; drain also evicts pods',
      'They are the same command with different aliases',
      'Drain only marks node as unschedulable, nothing more',
      'Cordon evicts all pods from the target node',
    ],
    correctAnswer: 0,
    explanation: 'cordon: node is marked unschedulable. drain: cordon + evict pods (respecting PDB).',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'maintenance', 'cordon', 'drain'],
  },
  {
    id: 'j-k8s-master-no-pods',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'Why don\'t control plane nodes run user workloads?',
    options: [
      'Reserve resources for control plane; enforced by taints',
      'They can run all workloads same as worker nodes',
      'Only for security reasons, not resource concerns',
      'Kubernetes strictly forbids it at the code level',
    ],
    correctAnswer: 0,
    explanation: 'Control plane needs stable resources. Taints prevent user pods unless they have matching tolerations.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'control-plane', 'scheduling'],
  },
  {
    id: 'j-k8s-pdb',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What is a Pod Disruption Budget (PDB)?',
    options: [
      'Limits how many pods can be down during disruptions',
      'A backup mechanism for pod state and data',
      'A financial budget tracker for pod cloud costs',
      'Only applies to DaemonSet type workloads',
    ],
    correctAnswer: 0,
    explanation: 'PDB limits how many pods of a set can be down at once during voluntary disruptions like drains.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'pdb', 'ha'],
  },
  {
    id: 'j-k8s-crd-operator',
    levelId: 'kubernetes',
    difficulty: 'hard',
    question: 'What is a CRD and what is an operator?',
    options: [
      'CRD extends API; operator manages custom resources',
      'CRD is just a plugin for storage backends only',
      'Operator is the same thing as a Deployment object',
      'CRD is only used for adding storage class types',
    ],
    correctAnswer: 0,
    explanation: 'CRD defines custom resource types. An operator is a controller that watches and reconciles those resources.',
    wrongFeedback,
    xpReward: 35,
    tags: ['kubernetes', 'crd', 'operator'],
  },
  {
    id: 'j-k8s-pod-pending',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'A pod is stuck in Pending. How do you troubleshoot?',
    options: [
      'describe pod: check events for scheduling failures',
      'Only check the pod logs for error messages',
      'Restart the scheduler component on control plane',
      'Delete the pod and hope it schedules next time',
    ],
    correctAnswer: 0,
    explanation: 'describe pod shows Events: insufficient resources, taints, PVC issues. Fix by adding nodes or relaxing requests.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'troubleshooting', 'scheduling'],
  },
  {
    id: 'j-k8s-rollout-restart',
    levelId: 'kubernetes',
    difficulty: 'easy',
    question: 'How do you restart a deployment (rolling restart)?',
    options: [
      'kubectl rollout restart deployment/<name>',
      'kubectl restart deployment/<name>',
      'kubectl delete pods --all in namespace',
      'Only by changing the container image tag',
    ],
    correctAnswer: 0,
    explanation: 'kubectl rollout restart triggers a rolling restart without changing the spec.',
    wrongFeedback,
    xpReward: 10,
    tags: ['kubernetes', 'deployment', 'rollout'],
  },
  {
    id: 'j-k8s-helm-vs-kubectl',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What is the difference between Helm and kubectl?',
    options: [
      'Helm is a package manager with charts; kubectl applies YAML',
      'They perform exactly the same operations identically',
      'Helm completely replaces kubectl for all operations',
      'kubectl is only used for debugging, not deployments',
    ],
    correctAnswer: 0,
    explanation: 'Helm packages apps as charts with templating and versioning. kubectl apply is for static YAML. Helm sits on top of kubectl.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'helm', 'kubectl'],
  },
  {
    id: 'j-k8s-helm-benefits',
    levelId: 'kubernetes',
    difficulty: 'medium',
    question: 'What are the benefits of using Helm?',
    options: [
      'Templating, versioning, rollback, dependency management',
      'Only templating YAML files, nothing else',
      'Only for installing third-party applications',
      'Helm provides no benefits over raw kubectl apply',
    ],
    correctAnswer: 0,
    explanation: 'Helm provides templating (values.yaml), versioned releases, easy rollback, and dependency management.',
    wrongFeedback,
    xpReward: 20,
    tags: ['kubernetes', 'helm', 'benefits'],
  },
  // --- Terraform ---
  {
    id: 'j-tf-state',
    levelId: 'terraform',
    difficulty: 'medium',
    question: 'What is Terraform state and why is it important?',
    options: [
      'Maps config to real resources; enables plan/diff',
      'Only a log of past terraform apply commands',
      'An optional feature that can be safely disabled',
      'Same as the .terraform directory contents',
    ],
    correctAnswer: 0,
    explanation: 'State maps your config to real-world resources, enabling Terraform to know what exists and compute diffs.',
    wrongFeedback,
    xpReward: 20,
    tags: ['terraform', 'state', 'basics'],
  },
  {
    id: 'j-tf-remote-state',
    levelId: 'terraform',
    difficulty: 'medium',
    question: 'Why use remote state (e.g. S3 + DynamoDB)?',
    options: [
      'Shared access, locking prevents concurrent conflicts',
      'Only for backing up the state file automatically',
      'Local state works the same for all team sizes',
      'Remote state is slower and has no real benefits',
    ],
    correctAnswer: 0,
    explanation: 'Remote state allows team sharing and state locking (DynamoDB) prevents concurrent modifications.',
    wrongFeedback,
    xpReward: 20,
    tags: ['terraform', 'state', 'remote'],
  },
  {
    id: 'j-tf-modules',
    levelId: 'terraform',
    difficulty: 'medium',
    question: 'What are Terraform modules and why use them?',
    options: [
      'Reusable resource groups for DRY, consistent infra',
      'Only for organizing files into separate folders',
      'A cloud provider plugin system for Terraform',
      'State file backup mechanism for disaster recovery',
    ],
    correctAnswer: 0,
    explanation: 'Modules are reusable containers of resources promoting DRY principles and consistent infrastructure.',
    wrongFeedback,
    xpReward: 20,
    tags: ['terraform', 'modules', 'organization'],
  },
  {
    id: 'j-tf-import',
    levelId: 'terraform',
    difficulty: 'hard',
    question: 'How do you import existing infrastructure into Terraform?',
    options: [
      'terraform import to add resource to state file',
      'Terraform automatically detects all resources',
      'You must recreate all infrastructure from scratch',
      'Only possible with Terraform Cloud, not CLI',
    ],
    correctAnswer: 0,
    explanation: 'terraform import associates an existing resource with a Terraform resource in state.',
    wrongFeedback,
    xpReward: 35,
    tags: ['terraform', 'import', 'migration'],
  },
  // --- CI/CD ---
  {
    id: 'j-cicd-pipeline-stages',
    levelId: 'cicd',
    difficulty: 'medium',
    question: 'What are typical stages in a CI/CD pipeline?',
    options: [
      'Build, test, scan, deploy (staging then production)',
      'Only build and deploy, testing is not included',
      'Only a single stage that does everything at once',
      'There are no standard stages in CI/CD pipelines',
    ],
    correctAnswer: 0,
    explanation: 'Typical stages: build/compile, unit test, integration test, security scan, deploy to staging, deploy to production.',
    wrongFeedback,
    xpReward: 20,
    tags: ['cicd', 'pipeline', 'stages'],
  },
  {
    id: 'j-cicd-rollback',
    levelId: 'cicd',
    difficulty: 'medium',
    question: 'How do you implement rollback in a CI/CD pipeline?',
    options: [
      'Redeploy previous artifact version or revert commit',
      'There is no way to rollback in CI/CD pipelines',
      'Only by deleting the entire deployment and starting over',
      'Rollback requires stopping all pipeline stages first',
    ],
    correctAnswer: 0,
    explanation: 'Rollback by deploying a previous known-good artifact, reverting the commit, or using deployment rollback features.',
    wrongFeedback,
    xpReward: 20,
    tags: ['cicd', 'rollback', 'deployment'],
  },
  // --- Ansible ---
  {
    id: 'j-ansible-idempotent',
    levelId: 'ansible',
    difficulty: 'medium',
    question: 'What does idempotency mean in Ansible?',
    options: [
      'Same playbook run multiple times = same result',
      'Tasks always run in parallel across all hosts',
      'All tasks in a playbook are encrypted by default',
      'Playbooks are automatically version controlled',
    ],
    correctAnswer: 0,
    explanation: 'Idempotency means running the same operation multiple times has the same effect as running it once.',
    wrongFeedback,
    xpReward: 20,
    tags: ['ansible', 'concepts', 'idempotent'],
  },
  {
    id: 'j-ansible-role-structure',
    levelId: 'ansible',
    difficulty: 'medium',
    question: 'What is the standard directory structure of an Ansible role?',
    options: [
      'tasks/, handlers/, templates/, files/, vars/, defaults/',
      'Only a single main.yml file is required for roles',
      'src/, dist/, config/, build/ like a code project',
      'Roles have no standard directory structure at all',
    ],
    correctAnswer: 0,
    explanation: 'Roles have standard dirs: tasks/, handlers/, templates/, files/, vars/, defaults/, meta/.',
    wrongFeedback,
    xpReward: 20,
    tags: ['ansible', 'roles', 'structure'],
  },
  // --- General ---
  {
    id: 'j-monitoring-tools',
    levelId: 'devops',
    difficulty: 'medium',
    question: 'What monitoring tools are commonly used in DevOps?',
    options: [
      'Prometheus, Grafana, ELK stack, Datadog, CloudWatch',
      'Only CloudWatch is used for all monitoring needs',
      'Monitoring is not part of DevOps responsibilities',
      'Only manual log reading is done in production',
    ],
    correctAnswer: 0,
    explanation: 'Common tools: Prometheus (metrics), Grafana (dashboards), ELK (logs), Datadog, CloudWatch.',
    wrongFeedback,
    xpReward: 20,
    tags: ['devops', 'monitoring', 'tools'],
  },
  {
    id: 'j-incident-response',
    levelId: 'devops',
    difficulty: 'hard',
    question: 'Describe a typical incident response process.',
    options: [
      'Detect → triage → mitigate → resolve → postmortem',
      'Only restart affected services and move on quickly',
      'Blame the developer who made the last change',
      'Wait for the issue to resolve itself over time',
    ],
    correctAnswer: 0,
    explanation: 'Incident response: detect (alerts), triage (severity), mitigate (reduce impact), resolve (fix), postmortem (learn).',
    wrongFeedback,
    xpReward: 35,
    tags: ['devops', 'incident', 'sre'],
  },
  {
    id: 'j-sla-slo-sli',
    levelId: 'devops',
    difficulty: 'medium',
    question: 'What is the difference between SLA, SLO, and SLI?',
    options: [
      'SLA: contract; SLO: target; SLI: actual measurement',
      'They are three names for the same exact concept',
      'SLA is internal only, never shared with customers',
      'SLI is the contract, SLA is the measurement taken',
    ],
    correctAnswer: 0,
    explanation: 'SLI: actual metric (e.g. latency). SLO: target for that metric (99.9%). SLA: contractual agreement with consequences.',
    wrongFeedback,
    xpReward: 20,
    tags: ['devops', 'sre', 'reliability'],
  },
];